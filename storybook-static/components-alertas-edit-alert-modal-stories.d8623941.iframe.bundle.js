"use strict";(self.webpackChunkhardware_price_tracker=self.webpackChunkhardware_price_tracker||[]).push([[30],{"./src/components/alertas/edit-alert-modal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/jsx-runtime.js"),_edit_alert_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/alertas/edit-alert-modal.tsx"),_contexts_alerts_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/contexts/alerts-context.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Componentes/alertas/edit-alert-value",component:_edit_alert_modal__WEBPACK_IMPORTED_MODULE_1__.$,parameters:{nextjs:{appDirectory:!0}},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_contexts_alerts_context__WEBPACK_IMPORTED_MODULE_2__.N,{children:Story()})]},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./src/components/alertas/edit-alert-modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>EditValueModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/index.js"),_barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.456.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/x.js"),_hookform_resolvers_zod__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@hookform+resolvers@3.9.1_react-hook-form@7.54.0_react@19.0.0-rc-66855b96-20241106_/node_modules/@hookform/resolvers/zod/dist/zod.mjs"),react_hook_form__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/react-hook-form@7.54.0_react@19.0.0-rc-66855b96-20241106/node_modules/react-hook-form/dist/index.esm.mjs"),zod__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs"),_ui_input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/input.tsx"),_contexts_alerts_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/contexts/alerts-context.tsx"),_ui_toasts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/toasts.tsx"),_ui_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/button.tsx"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const editAlertFormSchema=zod__WEBPACK_IMPORTED_MODULE_6__.z.object({TargetPrice:zod__WEBPACK_IMPORTED_MODULE_6__.z.number()});function EditValueModal({alertId,closeFilterModal}){const{editAlertById}=(0,_contexts_alerts_context__WEBPACK_IMPORTED_MODULE_3__.Z)(),modalRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),{register,handleSubmit,formState:{isSubmitting,errors}}=(0,react_hook_form__WEBPACK_IMPORTED_MODULE_7__.mN)({resolver:(0,_hookform_resolvers_zod__WEBPACK_IMPORTED_MODULE_8__.u)(editAlertFormSchema)});return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{function handleClickOutside(event){modalRef.current&&!modalRef.current.contains(event.target)&&closeFilterModal()}function handleKeyDown(event){"Escape"===event.key&&closeFilterModal()}return document.addEventListener("mousedown",handleClickOutside),document.addEventListener("keydown",handleKeyDown),()=>{document.removeEventListener("mousedown",handleClickOutside),document.removeEventListener("keydown",handleKeyDown)}}),[closeFilterModal]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:modalRef,className:"bg-white rounded-lg w-11/12 max-w-md p-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("header",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{className:"text-xl font-semibold",children:"Alterar valor do alerta"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:closeFilterModal,className:"text-zinc-900",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__.A,{})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-col gap-4 w-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit((async function handleEditAlert(data){try{await editAlertById(alertId,data),console.log("alerta atualizado!"),(0,_ui_toasts__WEBPACK_IMPORTED_MODULE_4__.GF)("Valor atualizado com sucesso!"),closeFilterModal()}catch(error){console.log(error),(0,_ui_toasts__WEBPACK_IMPORTED_MODULE_4__.Ni)("Ops! Ocorreu algum erro.")}})),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-zinc-600",children:"Defina o valor desejado para alterar o preÃ§o."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ui_input__WEBPACK_IMPORTED_MODULE_2__.p,{type:"number",placeholder:"Digite um valor",...register("TargetPrice",{valueAsNumber:!0})}),errors.TargetPrice&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-red-500",children:errors.TargetPrice.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ui_button__WEBPACK_IMPORTED_MODULE_5__.$,{variant:"secondary",type:"submit",disabled:isSubmitting||!!errors.TargetPrice,className:"flex-1 bg-green-700 text-zinc-50 rounded-3xl py-2",children:"Confirmar"})]})})]})})}EditValueModal.__docgenInfo={description:"",methods:[],displayName:"EditValueModal",props:{closeFilterModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},alertId:{required:!0,tsType:{name:"string"},description:""}}}},"./src/components/ui/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");function Button({variant="delete",...props}){const buttonClass=(0,clsx__WEBPACK_IMPORTED_MODULE_1__.A)("flex items-center justify-center p-3 gap-4 text-sm font-semibold rounded-3xl ",{"bg-green-100 hover:tex-green-100  text-green-700 w-full hover:bg-green-600 hover:text-zinc-50 transition-all":"delete"===variant,"bg-green-700 flex-1 text-zinc-50 ":"submit"===variant,"bg-green-700 rounded-lg text-zinc-200 w-full hover:bg-green-500":"secondary"===variant,"bg-green-100 text-green-700 px-6 text-nowrap":"rounded"===variant,"bg-green-700 rounded-lg text-zinc-200 md:hidden":"filter"===variant,"bg-green-700 rounded-lg text-zinc-200 size-10 hover:bg-green-500":"sponsor"===variant});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{...props,className:buttonClass,children:props.children})}Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:'"delete" | "submit" | "secondary" | "rounded" | "filter" | "sponsor"',elements:[{name:"literal",value:'"delete"'},{name:"literal",value:'"submit"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"rounded"'},{name:"literal",value:'"filter"'},{name:"literal",value:'"sponsor"'}]},description:"",defaultValue:{value:'"delete"',computed:!1}}}}},"./src/components/ui/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>Input});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/jsx-runtime.js"),clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");function Input({variant="outline",...props}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_1__.A)("flex-1 rounded-3xl p-2",{"border border-green-700 w-full":"outline"===variant,"border border-zinc-300 rounded-xl":"minimalist"===variant}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{...props,className:"flex-1 w-full outline-none"})})}Input.__docgenInfo={description:"",methods:[],displayName:"Input",props:{variant:{required:!1,tsType:{name:"union",raw:'"minimalist" | "outline"',elements:[{name:"literal",value:'"minimalist"'},{name:"literal",value:'"outline"'}]},description:"",defaultValue:{value:'"outline"',computed:!1}}}}},"./src/components/ui/toasts.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$S:()=>showInfoToast,GF:()=>showSuccessToast,Ni:()=>showErrorToast});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_Check_Info_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.456.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/check.js"),_barrel_optimize_names_Check_Info_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.456.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/circle-x.js"),_barrel_optimize_names_Check_Info_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.456.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/info.js"),sonner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.1_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96-20241106__react@19.0.0-rc-66855b96-20241106/node_modules/sonner/dist/index.mjs");function showSuccessToast(message){(0,sonner__WEBPACK_IMPORTED_MODULE_1__.oR)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-4 rounded-xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center justify-center size-10 px-2 bg-green-100 rounded-full ",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Info_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,{className:"text-green-700",size:24})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"font-semibold",children:[" ",message]})]}),{className:"bg-white border border-zinc-300 rounded-xl shadow-md p-4 flex items-center"})}function showErrorToast(message){(0,sonner__WEBPACK_IMPORTED_MODULE_1__.oR)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-4 rounded-xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center justify-center size-10 px-2 bg-red-100 rounded-full ",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Info_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"text-red-700",size:24})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-semibold",children:message})]}),{className:"bg-white border border-zinc-300 rounded-xl shadow-md p-4 flex items-center"})}function showInfoToast(message){(0,sonner__WEBPACK_IMPORTED_MODULE_1__.oR)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-3 rounded-xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center justify-center size-10 px-2 bg-blue-100 rounded-full ",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Info_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"text-blue-700",size:24})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-semibold",children:message})]}),{className:"bg-white border border-zinc-300 rounded-xl shadow-md p-4 flex items-center"})}},"./src/contexts/alerts-context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>AlertsProvider,Z:()=>useAlerts});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.0.3_@babel+core@7.26.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96_fpy4of67lljj5mmtr3hdr3usnm/node_modules/next/dist/compiled/react/index.js"),api=__webpack_require__("./src/services/api.ts"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");var delete_alert_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");var edit_alert_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");var create_alert_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");var js_cookie=__webpack_require__("./node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs"),delete_all_alerts_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");var toasts=__webpack_require__("./src/components/ui/toasts.tsx"),alerts_context_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const AlertsContext=(0,react.createContext)(void 0);function AlertsProvider({children}){const[alerts,setAlerts]=(0,react.useState)([]);return(0,react.useEffect)((()=>{!async function loadAlerts(){const userId=js_cookie.A.get("userId");if(userId){const alertsData=await async function fetchAlerts(userId){try{const{data}=await api.F.get(`/api/tracker/fromuser/${userId}`);return console.log("Succsses"),console.log(data),data}catch(error){throw console.error(error),new Error("Erro ao buscar alertas")}}(userId);setAlerts(alertsData.resp)}}()}),[]),(0,jsx_runtime.jsx)(AlertsContext.Provider,{value:{alerts,deleteAlertById:async function deleteAlertById(alertId){await async function deleteAlert(alertId){try{const{data}=await api.F.delete(`api/tracker/delete/${alertId}`);return delete_alert_console.log("Alerta deletado!"),delete_alert_console.log(data),data}catch(error){throw delete_alert_console.error(error),new Error("Erro ao registar alertas")}}(alertId),setAlerts((prevAlerts=>prevAlerts.filter((alert=>alert.Id!==alertId))))},createNewAlert:async function createNewAlert(newAlert){const data=await async function creteAlert(createAlertData){try{const{data}=await api.F.post("/api/tracker/create",createAlertData);return create_alert_console.log("Alerta registrado"),create_alert_console.log(data),data}catch(error){throw create_alert_console.error(error),new Error("Erro ao registar alertas")}}(newAlert),{Id,TargetPrice,ProdImage,ProdName}=data.response;setAlerts([{Id,TargetPrice,ProdImage,ProdName},...alerts])},editAlertById:async function editAlertById(alertId,data){const{TargetPrice}=data;await async function editAlert(alertId,value){try{const{data}=await api.F.put(`/api/tracker/update/${alertId}/${value}`);return edit_alert_console.log("Succsses, atualizzado!"),edit_alert_console.log(data),data}catch(error){throw edit_alert_console.error(error),new Error("Erro ao atualizar alertas")}}(alertId,TargetPrice),alerts_context_console.log("alerta atualizado!"),setAlerts((prevAlerts=>prevAlerts.map((alert=>alert.Id===alertId?{...alert,TargetPrice}:alert))))},handleDeleteAllAlerts:async function handleDeleteAllAlerts(){try{const userId=js_cookie.A.get("userId");await async function deleteAllAlerts(userId){try{const{data}=await api.F.delete(`/api/tracker/delete/all/${userId}`);return data}catch(error){throw delete_all_alerts_console.error(error),new Error("Erro ao deletar todos os alertas")}}(userId),setAlerts([]),(0,toasts.GF)("Todos os alertas foram deletados!")}catch(e){(0,toasts.Ni)("Erro ao deletar todos os alertas!")}}},children})}const useAlerts=()=>{const context=(0,react.useContext)(AlertsContext);if(!context)throw new Error("useAlerts must be used within an AlertsProvider");return context};AlertsProvider.__docgenInfo={description:"",methods:[],displayName:"AlertsProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/services/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>api});const api=__webpack_require__("./node_modules/.pnpm/axios@1.7.9/node_modules/axios/lib/axios.js").A.create({baseURL:"https://hardware-price-tracker-api.onrender.com"})}}]);